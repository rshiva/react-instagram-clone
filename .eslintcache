[{"/Users/nbt040/workspace/react-apps/instagram-clone/src/App.js":"1","/Users/nbt040/workspace/react-apps/instagram-clone/src/Post.js":"2","/Users/nbt040/workspace/react-apps/instagram-clone/src/index.js":"3","/Users/nbt040/workspace/react-apps/instagram-clone/src/firebase.js":"4","/Users/nbt040/workspace/react-apps/instagram-clone/src/reportWebVitals.js":"5","/Users/nbt040/workspace/react-apps/instagram-clone/src/ImageUpload.js":"6","/Users/nbt040/workspace/react-apps/instagram-clone/src/Login.js":"7"},{"size":5119,"mtime":1611473061974,"results":"8","hashOfConfig":"9"},{"size":2108,"mtime":1611474497714,"results":"10","hashOfConfig":"9"},{"size":500,"mtime":1611032696803,"results":"11","hashOfConfig":"9"},{"size":581,"mtime":1611043833483,"results":"12","hashOfConfig":"9"},{"size":362,"mtime":1611032696804,"results":"13","hashOfConfig":"9"},{"size":1729,"mtime":1611468883627,"results":"14","hashOfConfig":"9"},{"size":2329,"mtime":1611220497574,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1lxeuyo",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/nbt040/workspace/react-apps/instagram-clone/src/App.js",[],"/Users/nbt040/workspace/react-apps/instagram-clone/src/Post.js",["31"],"import React from 'react'\nimport './Post.css'\nimport Avatar from '@material-ui/core/Avatar';\nimport { db } from './firebase'\nimport {useState, useEffect} from 'react'\nimport firebase from 'firebase'\nimport Login from \"./Login\"\n\nfunction Post({postId, user, username, caption, imageUrl}) {\n\n  const [comments, setComments] = useState([]);\n  const [comment, setComment] = useState('');\n\n  useEffect(() => {\n    let unsubscribe;\n    if(postId){\n      unsubscribe = db.collection(\"posts\")\n      .doc(postId)\n      .collection(\"comments\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setComments(snapshot.docs.map((doc) => doc.data()));\n      })\n    }\n    return () =>{\n      unsubscribe();\n    }\n  }, [postId])\n\n  const postComment = (e) => {\n    e.preventDefault()\n    if(user){\n      db.collection(\"posts\")\n        .doc(postId)\n        .collection(\"comments\")\n        .add({\n          text: comment,\n          username: user.displayName,\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        });\n        setComment('');\n      }else{\n        alert(\"Login to comment\")\n      }\n  }\n  return (\n    <div className='post'>\n      <div className=\"post_header\">\n        <Avatar className='post_avatar'\n          alt={username} \n          src=\"/static/images/avatar/1.jpg\" />\n        <h3>{username} </h3>\n      </div>\n      <img className=\"post_image\" src={imageUrl}\n       alt=\"sunset\"/>\n      <h4 className=\"post_caption\"><strong>{username} : </strong> {caption}</h4>\n\n      <div className=\"post_comments\">\n        {\n          comments.map((comment) => (\n            <p>\n              <b>{comment.username}</b> {comment.text}\n            </p>\n          ))\n        }\n      </div>\n      \n      <form className='post_commentBox'> \n        <input type=\"text\" className=\"post_commentInput\"\n          placeholder=\"Add a comment\"\n          value={comment}\n          onChange={(e) => setComment(e.target.value)}\n        />\n        <button className=\"post_comment\" onClick={postComment}>\n         Post\n        </button>\n      </form>\n    </div>\n  )\n}\nexport default Post","/Users/nbt040/workspace/react-apps/instagram-clone/src/index.js",[],"/Users/nbt040/workspace/react-apps/instagram-clone/src/firebase.js",[],"/Users/nbt040/workspace/react-apps/instagram-clone/src/reportWebVitals.js",[],"/Users/nbt040/workspace/react-apps/instagram-clone/src/ImageUpload.js",[],"/Users/nbt040/workspace/react-apps/instagram-clone/src/Login.js",["32"],{"ruleId":"33","severity":1,"message":"34","line":7,"column":8,"nodeType":"35","messageId":"36","endLine":7,"endColumn":13},{"ruleId":"33","severity":1,"message":"37","line":2,"column":16,"nodeType":"35","messageId":"36","endLine":2,"endColumn":18},"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'db' is defined but never used."]